<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0" version="29.1.1">
  <diagram name="第 1 页" id="wOX861sB1Mfo9-PRwPlO">
    <mxGraphModel dx="1818" dy="756" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-172" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="490" width="741" x="-47" y="3118" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-47" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="336" width="380" x="474" y="1202" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-7" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="NdlnKQ3F5qfM2t-CQJyK-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-9" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-14">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="277" y="455" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-5" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="memo中存在当前节点" vertex="1">
          <mxGeometry height="109" width="159" x="197" y="284" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-6" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="队列所有元素出队&lt;br&gt;赋值memo中当前节点值" vertex="1">
          <mxGeometry height="60" width="165" x="455" y="308.5" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-8" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="存在" vertex="1">
          <mxGeometry height="30" width="60" x="373" y="308" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-10" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="不存在" vertex="1">
          <mxGeometry height="30" width="60" x="275" y="404" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-12" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-11" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="当前节点:cur" vertex="1">
          <mxGeometry height="60" width="120" x="217" y="186" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-17" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-20" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-21" connectable="0" parent="NdlnKQ3F5qfM2t-CQJyK-20" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="不是根节点" vertex="1">
          <mxGeometry relative="1" x="-0.0169" y="4" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-13" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="parent为空，即当前&lt;div&gt;节点为根节点&lt;/div&gt;" vertex="1">
          <mxGeometry height="109" width="159" x="197" y="557" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-15" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-14" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="当前节点入队列&lt;br&gt;获取当前节点parent" vertex="1">
          <mxGeometry height="60" width="120" x="217" y="462" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-16" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="&lt;div&gt;当前节点赋值为true&lt;/div&gt;队列所有元素出队&lt;br&gt;赋值true" vertex="1">
          <mxGeometry height="60" width="165" x="194" y="727" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-18" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="为根节点" vertex="1">
          <mxGeometry height="30" width="60" x="215" y="678" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-23" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-26" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-19" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="parent存在于本次导入" vertex="1">
          <mxGeometry height="109" width="159" x="447" y="555" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-24" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-11">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="527" y="829" />
              <mxPoint x="92" y="829" />
              <mxPoint x="92" y="216" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-22" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="&lt;div&gt;parent为导入后更新值为准&lt;/div&gt;&lt;div&gt;更新cur为parent&lt;/div&gt;&lt;div&gt;递归处理&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="165" x="444" y="723" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-27" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.018;entryY=0.542;entryDx=0;entryDy=0;entryPerimeter=0;" target="NdlnKQ3F5qfM2t-CQJyK-28">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="679" y="472.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-30" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-25" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="parent存在于数据库" vertex="1">
          <mxGeometry height="109" width="159" x="447" y="418" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-28" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="&lt;div&gt;当前节点赋值为false&lt;/div&gt;队列所有元素出队&lt;br&gt;赋值false" vertex="1">
          <mxGeometry height="60" width="165" x="648" y="510" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-29" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="&lt;div&gt;当前节点赋值为true&lt;/div&gt;队列所有元素出队&lt;br&gt;赋值true" vertex="1">
          <mxGeometry height="60" width="165" x="650" y="389" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-31" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="存在" vertex="1">
          <mxGeometry height="30" width="60" x="569" y="422" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-32" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="不存在" vertex="1">
          <mxGeometry height="30" width="60" x="571" y="494" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-38" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-33" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="当前节点为新增节点" vertex="1">
          <mxGeometry height="109" width="159" x="486" y="1207" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-52" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-34" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="处理传递停用状态" vertex="1">
          <mxGeometry height="60" width="165" x="215" y="1451" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-35" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="&lt;div&gt;父级的传递停用状态&lt;/div&gt;" vertex="1">
          <mxGeometry height="54" width="130" x="698" y="1297" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-40" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-35">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="689" y="1402.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-45" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-44">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-37" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="当前节点是否停用" vertex="1">
          <mxGeometry height="109" width="159" x="486" y="1348" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-39" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-41" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="是" vertex="1">
          <mxGeometry height="30" width="60" x="632" y="1230" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-42" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="否" vertex="1">
          <mxGeometry height="30" width="60" x="552" y="1316" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-43" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="否" vertex="1">
          <mxGeometry height="30" width="60" x="661" y="1387.5" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-44" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="true" vertex="1">
          <mxGeometry height="49" width="55" x="538" y="1485" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-46" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="是" vertex="1">
          <mxGeometry height="30" width="60" x="554" y="1453" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-48" edge="1" parent="1" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="388" y="1484" as="sourcePoint" />
            <mxPoint x="469" y="1484" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-53" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-56" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-49" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="父级传递停用状态" vertex="1">
          <mxGeometry height="109" width="159" x="218" y="1570" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-95" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-94">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-51" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="不处理当前节点" vertex="1">
          <mxGeometry height="40" width="114" x="24" y="1604.5" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-54" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="非停用" vertex="1">
          <mxGeometry height="30" width="60" x="140" y="1597" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-58" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-66" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-55" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="当前节点是否为新增节点" vertex="1">
          <mxGeometry height="109" width="159" x="218" y="1722" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-96" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-94">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="20" y="1777" />
              <mxPoint x="20" y="2141" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-57" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="不允许新增，&lt;div&gt;加入错误数据&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="114" x="52" y="1756.5" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-59" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="是" vertex="1">
          <mxGeometry height="30" width="60" x="169" y="1748" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-64" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-63">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-71" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-70">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="387" y="1918" />
              <mxPoint x="387" y="1612" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-61" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="当前节点更新前后&lt;div&gt;父级是否一致&lt;/div&gt;" vertex="1">
          <mxGeometry height="109" width="159" x="218" y="1863" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-97" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-94">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="45" y="1917" />
              <mxPoint x="45" y="2141" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-63" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="不处理当前节点" vertex="1">
          <mxGeometry height="40" width="114" x="75" y="1897.5" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-65" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="一致" vertex="1">
          <mxGeometry height="30" width="60" x="178" y="1884" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-67" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="否" vertex="1">
          <mxGeometry height="30" width="60" x="278" y="1830" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-68" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="停用" vertex="1">
          <mxGeometry height="30" width="60" x="299" y="1681" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-100" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-94">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-69" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="不处理当前节点" vertex="1">
          <mxGeometry height="40" width="114" x="645" y="1592" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-76" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-69">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-81" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-70" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="当前节点是否为停用" vertex="1">
          <mxGeometry height="109" width="159" x="424" y="1557.5" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-72" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="不一致" vertex="1">
          <mxGeometry height="30" width="60" x="359" y="1671" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-75" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="停用" vertex="1">
          <mxGeometry height="30" width="60" x="581" y="1580" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-78" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="非停用" vertex="1">
          <mxGeometry height="30" width="60" x="511" y="1666.5" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-84" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-83">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-87" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-85">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-79" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="当前节点更新前&lt;div&gt;是否为根节点&lt;/div&gt;" vertex="1">
          <mxGeometry height="82" width="153" x="424" y="1794" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-82" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-79">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-80" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="1、添加到错误数据中，不允许更新&lt;div&gt;2、若当前节点不是本次导入根节点，则将其从更新后父级的子节点中去除&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="208" x="401" y="1701" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-99" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-94">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="760" y="1835" />
              <mxPoint x="760" y="2141" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-83" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="将当前节点添加到待提升到根节点集合" vertex="1">
          <mxGeometry height="40" width="114" x="637" y="1815" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-89" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-85" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-83">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-92" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-85" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-91">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-85" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="当前节点原父级&lt;div&gt;是否存在于本次导入&lt;/div&gt;" vertex="1">
          <mxGeometry height="82" width="153" x="424" y="1912" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-86" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="是" vertex="1">
          <mxGeometry height="30" width="60" x="562" y="1803" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-88" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="否" vertex="1">
          <mxGeometry height="30" width="60" x="477" y="1873" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-90" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="否" vertex="1">
          <mxGeometry height="30" width="60" x="604" y="1916" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-98" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-94">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-91" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="将当前节点挂在父级下" vertex="1">
          <mxGeometry height="40" width="127" x="437" y="2019" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-93" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="是" vertex="1">
          <mxGeometry height="30" width="60" x="496" y="1988" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-94" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="递归处理子孙节点（需要copy，避免循环中修改集合）" vertex="1">
          <mxGeometry height="40" width="167" x="375" y="2121" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-106" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-101" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-102">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-101" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="构造初始数据" vertex="1">
          <mxGeometry height="40" width="114" x="251" y="2403" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-107" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-102" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-117">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="427.5" y="2529.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-120" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-102" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-119">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-102" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="是否已处理过当前节点？" vertex="1">
          <mxGeometry height="109" width="159" x="225.5" y="2475" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-109" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="处理过" vertex="1">
          <mxGeometry height="30" width="60" x="373" y="2497" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-117" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="直接结束" vertex="1">
          <mxGeometry height="40" width="114" x="352" y="2621" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-118" parent="1" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;labelPosition=center;verticalLabelPosition=middle;verticalAlign=middle;" value="对于树形 A-&amp;gt;B&amp;gt;C-&amp;gt;D-&amp;gt;E&lt;div&gt;本次导入：&lt;/div&gt;&lt;div&gt;1、对于B，变更父级为X&lt;/div&gt;&lt;div&gt;2、对于D，变更父级为X1&lt;br&gt;其他节点不在本次导入中。&lt;/div&gt;&lt;div&gt;那么：&lt;/div&gt;&lt;div&gt;B是本次导入的根节点。&lt;/div&gt;&lt;div&gt;D也是本次导入的根节点(C不在，即使C在其也是应该挂在X1下)&lt;/div&gt;&lt;div&gt;然而：&lt;/div&gt;&lt;div&gt;1、由于B的父级发生变化，C、E即使本次为导入更新，其parents字段也应该更新。&lt;/div&gt;&lt;div&gt;2、&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;在处理B的时候，需要把C、D、E等子孙节点全部查询出来更新。&lt;br&gt;3、而在处理节点D时，由于父级发生了变更，也需要将其子级E查询出来更新。&lt;br&gt;4、这样，D及其子孙节点可能存在多次更新，E可能被多次查询出来并构造。&lt;br&gt;5、因此需要设计一个已处理过节点，来存储已经处理过的节点。注意，这里已经处理过指的是因父级变更而需要处理的节点。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;不然只要处理过就加入则会出现如下问题：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;对于&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;A-&amp;gt;B&amp;gt;C-&amp;gt;D-&amp;gt;E，B更新父级为X，D更新其他字段，不更新父级。&lt;br&gt;那么D、B在本次导入中均为临时根节点。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;若先处理D，由于D并没有修改父级，则认为D不需要处理子孙节点，且将D设置为已处理。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;然后再处理B的时候，处理到D的时候应该要继续处理D及子孙节点，而这里被跳过，错误&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="321" width="491" x="525" y="2335" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-129" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-121">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-135" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="NdlnKQ3F5qfM2t-CQJyK-134">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-119" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="是否为本次新增节点" vertex="1">
          <mxGeometry height="109" width="159" x="225.5" y="2714" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-131" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-121" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-128">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-121" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="是否存在错误数据" vertex="1">
          <mxGeometry height="109" width="159" x="24" y="2714" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-123" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="是" vertex="1">
          <mxGeometry height="30" width="60" x="178" y="2734" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-124" parent="1" style="rounded=0;whiteSpace=wrap;html=1;align=left;" value="新增节点存在错误数据：&lt;br&gt;1、其子孙节点中的更新节点会被提升至根节点，因此这里不需要考虑&lt;div&gt;2、其子孙节点中的新增节点则需要一并被淘汰，避免再次递归浪费资源。&lt;/div&gt;&lt;div&gt;所以这里直接将当前节点从父级中去除，并递归处理子孙节点全部去除。&lt;/div&gt;" vertex="1">
          <mxGeometry height="147.75" width="192" x="-218" y="2677.25" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-126" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="是" vertex="1">
          <mxGeometry height="30" width="60" x="-26" y="2732" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-133" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-128" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-102">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-128" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="递归处理子孙节点，&lt;div&gt;因为子孙节点中可能存在更新节点(将某个节点父级更新为新增节点)，因此子孙节点中可能存在需要构造完整树的子级，需要递归处理，不能跳过&lt;/div&gt;" vertex="1">
          <mxGeometry height="123" width="178" x="15" y="2559" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-130" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-121" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.984;entryY=0.621;entryDx=0;entryDy=0;entryPerimeter=0;" target="NdlnKQ3F5qfM2t-CQJyK-124">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-132" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="否" vertex="1">
          <mxGeometry height="30" width="60" x="93" y="2681" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-138" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-134" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="NdlnKQ3F5qfM2t-CQJyK-137" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-142" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-134" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-144">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="541" y="2857" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-134" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="祖先节点是否发生变化" vertex="1">
          <mxGeometry height="109" width="159" x="225.5" y="2854" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-136" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="否，为更新节点或数据库节点" vertex="1">
          <mxGeometry height="48" width="101" x="365" y="2719" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-141" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-137" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-102">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="593" y="2737" />
              <mxPoint x="593" y="2678" />
              <mxPoint x="503" y="2678" />
              <mxPoint x="503" y="2530" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-137" parent="1" style="rounded=0;whiteSpace=wrap;html=1;align=left;" value="父级未变化，但其子级可能发生变化，比如本次更新其他节点到其子级，那么对其他节点而言父级发生了变化。&lt;div&gt;更新父级变化状态，递归处理&lt;/div&gt;" vertex="1">
          <mxGeometry height="145.5" width="171" x="507.5" y="2754.5" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-139" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="否" vertex="1">
          <mxGeometry height="30" width="60" x="398" y="2865" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-143" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="是" vertex="1">
          <mxGeometry height="30" width="60" x="254" y="2958" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-146" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-144" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-145">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-144" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="需要将当前节点的所有子级节点查询出来并与本次更新节点进行合并，不需要递归查询子孙节点，一层一层处理。" vertex="1">
          <mxGeometry height="80" width="179" x="216" y="2997" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-145" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="递归处理补充后的子孙节点" vertex="1">
          <mxGeometry height="39" width="176" x="453" y="3017.5" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-152" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-147" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-149">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-147" parent="1" style="rounded=0;whiteSpace=wrap;html=1;align=center;verticalAlign=top;" value="&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;查询出当前节点导入前的所有子节点并遍历&lt;/span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="35" width="148" x="232.5" y="3130" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-148" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-144" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-147" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="310" y="3088" as="sourcePoint" />
            <mxPoint x="315" y="3145" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-153" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-149" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-151">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-156" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-149" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-158">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="335" y="3400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-149" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="本次导入数据中&lt;div&gt;是否有该子节点&lt;/div&gt;" vertex="1">
          <mxGeometry height="109" width="159" x="228.5" y="3197" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-151" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="构造纯数据库节点，后续处理中仅更新parents等字段" vertex="1">
          <mxGeometry height="65" width="147" x="482" y="3219" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-154" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="无" vertex="1">
          <mxGeometry height="30" width="60" x="384" y="3218" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-165" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-155" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-164">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-169" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-155" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-168">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-155" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="该子节点是否&lt;div&gt;变更了父级&lt;/div&gt;&lt;div&gt;或变更为根节点&lt;/div&gt;" vertex="1">
          <mxGeometry height="109" width="159" x="229" y="3487" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-157" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="有" vertex="1">
          <mxGeometry height="30" width="60" x="290" y="3303" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-161" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-158" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="NdlnKQ3F5qfM2t-CQJyK-159">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-163" edge="1" parent="1" source="NdlnKQ3F5qfM2t-CQJyK-158" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="NdlnKQ3F5qfM2t-CQJyK-155">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-158" parent="1" style="rhombus;whiteSpace=wrap;html=1;" value="导入中该子节点&lt;div&gt;是否存在错误数据&lt;/div&gt;" vertex="1">
          <mxGeometry height="109" width="159" x="229" y="3340" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-159" parent="1" style="rounded=0;whiteSpace=wrap;html=1;align=left;" value="存在错误数据，认为本次导入更新不作数。&lt;div&gt;1、直接将该子节点挂在当前节点下&lt;/div&gt;&lt;div&gt;2、若该子节点原来为临时根节点，则需要冲临时根节点剔除，避免树形错误。&lt;/div&gt;" vertex="1">
          <mxGeometry height="104" width="207" x="457" y="3342" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-162" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="有" vertex="1">
          <mxGeometry height="30" width="60" x="378" y="3354" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-164" parent="1" style="rounded=0;whiteSpace=wrap;html=1;align=left;" value="变更了父级，则应该以变更后为准，这里不做处理，处理其祖先节点时会处理到该节点" vertex="1">
          <mxGeometry height="104" width="207" x="457.5" y="3489" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-166" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="无" vertex="1">
          <mxGeometry height="30" width="60" x="293" y="3450" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-167" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="时" vertex="1">
          <mxGeometry height="30" width="60" x="377" y="3506" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-168" parent="1" style="rounded=0;whiteSpace=wrap;html=1;align=left;" value="未变更父级，若该子节点之前为临时根节点，则需要将该子节点挂在当前节点下，并从临时根节点中剔除" vertex="1">
          <mxGeometry height="68" width="207" x="-27" y="3508" as="geometry" />
        </mxCell>
        <mxCell id="NdlnKQ3F5qfM2t-CQJyK-170" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="否" vertex="1">
          <mxGeometry height="30" width="60" x="178" y="3507" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
